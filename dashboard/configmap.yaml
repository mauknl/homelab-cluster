apiVersion: v1
kind: ConfigMap
metadata:
  name: homepage-config
  namespace: dashboard
data:
  settings.yaml: |
    title: My Home Lab
    theme: dark
    color: slate
    layout:
      Infrastructure:
        style: row
        columns: 2
      Development:
        style: row
        columns: 2

  services.yaml: |
    - Kubernetes Cluster:
        # --- RASPBERRY PI 5 (Master) ---
        - Pi 5 Vitals:
            icon: raspberry-pi
            description: "Cpu • Mem • Temp • Disk"
            href: http://192.168.1.179:61208
            widget:
              type: customapi
              url: http://192.168.1.179:61208/api/4/all
              refreshInterval: 5000
              mappings:
                - field: cpu.total
                  label: CPU
                  format: percent
                - field: mem.percent
                  label: RAM
                  format: percent
                - field: sensors[3].value
                  label: Temp
                  format: "float" 
                  suffix: "°C"
                - field: fs[0].percent
                  label: Disk
                  format: percent

        - Pi 5 Network:
            icon: mdi-wifi
            widget:
              type: glances
              url: http://192.168.1.179:61208
              version: 4
              metric: network:wlan0
              label: "WiFi Speed"

        # --- RASPBERRY PI 4 (Worker) ---
        - Pi 4 Vitals:
            icon: raspberry-pi
            description: "Cpu • Mem • Temp • Disk"
            href: http://192.168.1.129:61208
            widget:
              type: customapi
              url: http://192.168.1.129:61208/api/4/all
              refreshInterval: 5000
              mappings:
                - field: cpu.total
                  label: CPU
                  format: percent
                - field: mem.percent
                  label: RAM
                  format: percent
                - field: sensors[0].value
                  label: Temp
                  format: "float"
                  suffix: "°C"
                - field: fs[0].percent
                  label: Disk
                  format: percent

        - Pi 4 Network:
            icon: mdi-wifi
            widget:
              type: glances
              url: http://192.168.1.129:61208
              version: 4
              metric: network:wlan0
              label: "WiFi Speed"

        # --- APPS ---
        - Argo CD:
            href: https://argocd.192.168.1.179.nip.io
            icon: argo-cd.png
            description: GitOps
        - Rancher:
            href: https://rancher.192.168.1.179.nip.io
            icon: rancher.png
            description: Cluster Manager

    - Development:
        - VS Code:
            href: https://code.192.168.1.179.nip.io
            icon: vscode.png
            description: Remote IDE

  widgets.yaml: |
    
    - search:
        icon: kubernetes
        provider: google
        target: _blank
    - datetime:
        format:
          timeStyle: short
